# 2-Aside Platform - Environment Variables
# Copy this file to .env and update with your values

# ========================================
# DATABASE CONFIGURATION
# ========================================
DATABASE_URL=mssql+pyodbc://username:password@rendezvousdbserver.database.windows.net:1433/RendezvousDB?driver=ODBC+Driver+18+for+SQL+Server&Encrypt=yes&TrustServerCertificate=no&Connection+Timeout=30

# Alternative for local SQL Server
# DATABASE_URL=mssql+pyodbc://localhost/2AsideDB?driver=ODBC+Driver+18+for+SQL+Server&Trusted_Connection=yes

# Alternative for PostgreSQL
# DATABASE_URL=postgresql://username:password@localhost:5432/2aside

# ========================================
# JWT CONFIGURATION
# ========================================
JWT_SECRET=CHANGE-THIS-TO-A-LONG-RANDOM-STRING-IN-PRODUCTION
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60
JWT_REFRESH_EXPIRATION_DAYS=30

# ========================================
# REDIS CONFIGURATION
# ========================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=

# Azure Cache for Redis (Production)
# REDIS_URL=rediss://:password@your-redis.redis.cache.windows.net:6380/0

# ========================================
# CELERY CONFIGURATION
# ========================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ========================================
# AZURE BLOB STORAGE
# ========================================
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=your-account;AccountKey=your-key;EndpointSuffix=core.windows.net
AZURE_STORAGE_CONTAINER_NAME=receipts

# ========================================
# ENVIRONMENT
# ========================================
ENVIRONMENT=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# ========================================
# API GATEWAY
# ========================================
API_GATEWAY_HOST=0.0.0.0
API_GATEWAY_PORT=8000
CORS_ORIGINS=http://localhost:3000,http://localhost:19006,exp://localhost:19000

# ========================================
# SERVICE ENDPOINTS (Internal)
# ========================================
AUTH_SERVICE_URL=http://localhost:8001
USER_SERVICE_URL=http://localhost:8002
WALLET_SERVICE_URL=http://localhost:8003
FUNDING_SERVICE_URL=http://localhost:8004
BETTING_SERVICE_URL=http://localhost:8005
CUSTOM_BETS_SERVICE_URL=http://localhost:8006
ADMIN_SERVICE_URL=http://localhost:8007

# ========================================
# PLATFORM CONFIGURATION
# ========================================
PLATFORM_WALLET_EMAIL=platform@2aside.com
PLATFORM_FEE_PERCENTAGE=0.05  # 5%
REFERRAL_BONUS_PERCENTAGE=0.05  # 5% (paid from platform fee)

# ========================================
# SECURITY
# ========================================
RATE_LIMIT_PER_MINUTE=60
MAX_LOGIN_ATTEMPTS=5
LOGIN_LOCKOUT_MINUTES=15
PASSWORD_MIN_LENGTH=8

# ========================================
# BUSINESS RULES
# ========================================
# Behavior tracking
MAX_CONSECUTIVE_CANCELLATIONS=3
MAX_CONSECUTIVE_MISSES=3

# P2P Matching
FUNDING_EXPIRY_HOURS=4
MATCHING_INTERVAL_MINUTES=10

# Naira allowed amounts (comma-separated)
NAIRA_ALLOWED_AMOUNTS=2000,5000,10000,50000,100000,300000,500000,1000000,2000000

# USDT allowed amounts (comma-separated, base = $1, multiples of $10)
USDT_MIN_AMOUNT=1
USDT_MULTIPLE=10
USDT_MAX_AMOUNT=1000

# Custom Bets
CUSTOM_BET_MIN_AMOUNT_NAIRA=100
CUSTOM_BET_MAX_AMOUNT_NAIRA=1000000
CUSTOM_BET_MIN_AMOUNT_USDT=1
CUSTOM_BET_MAX_AMOUNT_USDT=10000
CUSTOM_BET_MIN_EXPIRY_HOURS=1
CUSTOM_BET_MAX_EXPIRY_DAYS=90

# ========================================
# MONITORING & LOGGING
# ========================================
# Azure Application Insights (Optional)
APPLICATIONINSIGHTS_CONNECTION_STRING=

# Sentry (Optional)
SENTRY_DSN=

# ========================================
# EMAIL CONFIGURATION (Optional)
# ========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
EMAIL_FROM=noreply@2aside.com

# ========================================
# SMS CONFIGURATION (Optional - for OTP)
# ========================================
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# ========================================
# TESTING
# ========================================
TEST_DATABASE_URL=sqlite:///./test.db
TEST_USER_EMAIL=test@example.com
TEST_USER_PASSWORD=TestPassword123
